var me=Object.defineProperty;var G=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var K=(e,n,t)=>n in e?me(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,J=(e,n)=>{for(var t in n||(n={}))_e.call(n,t)&&K(e,t,n[t]);if(G)for(var t of G(n))ve.call(n,t)&&K(e,t,n[t]);return e};import{u as ie,b as q,a as ae}from"./base.686dbe64.js";import{by as M,aY as se,as as F,ao as O,bz as le,bA as H,a9 as W,al as Z,ac as z,k as $,bB as he,Q as f,r as A,aA as pe,aw as ge,bC as be,a4 as D,aG as y,ay as S,U as E,b1 as m,a2 as s,X as x,D as re,aI as ye,bD as I,W as R,bp as V,x as w,A as we,a1 as k,V as Q}from"./index.53588f62.js";import{g as Se,c as ee}from"./dom.8215f375.js";import{u as xe}from"./use-can-render.aa6810d8.js";import{h as ze}from"./render.5e4deb99.js";import{u as ke}from"./popup.f1b7e5e0.js";import{A as ue}from"./roles.61f7d6b9.js";import{_ as Ce}from"./logo.0179c6cf.js";import{u as Ee}from"./sms.44f4b116.js";import{f as Te}from"./money.dd3f296a.js";import{S as $e}from"./Loader.55629d1d.js";const De=[null,document,document.body,document.scrollingElement,document.documentElement];function Le(e,n){let t=Se(n);if(t===void 0){if(e==null)return window;t=e.closest(".scroll,.scroll-y,.overflow-auto")}return De.includes(t)?window:t}function Ue(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Ae(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let B;function N(){if(B!==void 0)return B;const e=document.createElement("p"),n=document.createElement("div");ee(e,{width:"100%",height:"200px"}),ee(n,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),n.appendChild(e),document.body.appendChild(n);const t=e.offsetWidth;n.style.overflow="scroll";let o=e.offsetWidth;return t===o&&(o=n.clientWidth),n.remove(),B=t-o,B}const{passive:te}=H,Be=["both","horizontal","vertical"];var Re=M({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Be.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:n}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,r,u;se(()=>e.scrollTarget,()=>{l(),d()});function c(){o!==null&&o();const v=Math.max(0,Ue(r)),g=Ae(r),p={top:v-t.position.top,left:g-t.position.left};if(e.axis==="vertical"&&p.top===0||e.axis==="horizontal"&&p.left===0)return;const T=Math.abs(p.top)>=Math.abs(p.left)?p.top<0?"up":"down":p.left<0?"left":"right";t.position={top:v,left:g},t.directionChanged=t.direction!==T,t.delta=p,t.directionChanged===!0&&(t.direction=T,t.inflectionPoint=t.position),n("scroll",J({},t))}function d(){r=Le(u,e.scrollTarget),r.addEventListener("scroll",i,te),i(!0)}function l(){r!==void 0&&(r.removeEventListener("scroll",i,te),r=void 0)}function i(v){if(v===!0||e.debounce===0||e.debounce==="0")c();else if(o===null){const[g,p]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];o=()=>{p(g),o=null}}}const _=W();return F(()=>{u=_.proxy.$el.parentNode,d()}),O(()=>{o!==null&&o(),l()}),Object.assign(_.proxy,{trigger:i,getPosition:()=>t}),le}});const ce=typeof ResizeObserver!="undefined",oe=ce===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var ne=M({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:n}){let t=null,o,r={width:-1,height:-1};function u(l){l===!0||e.debounce===0||e.debounce==="0"?c():t===null&&(t=setTimeout(c,e.debounce))}function c(){if(clearTimeout(t),t=null,o){const{offsetWidth:l,offsetHeight:i}=o;(l!==r.width||i!==r.height)&&(r={width:l,height:i},n("resize",r))}}const d=W();if(Object.assign(d.proxy,{trigger:u}),ce===!0){let l;return F(()=>{Z(()=>{o=d.proxy.$el.parentNode,o&&(l=new ResizeObserver(u),l.observe(o),c())})}),O(()=>{clearTimeout(t),l!==void 0&&(l.disconnect!==void 0?l.disconnect():o&&l.unobserve(o))}),le}else{let _=function(){clearTimeout(t),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",u,H.passive),i=void 0)},v=function(){_(),o&&o.contentDocument&&(i=o.contentDocument.defaultView,i.addEventListener("resize",u,H.passive),c())};const l=xe();let i;return F(()=>{Z(()=>{o=d.proxy.$el,o&&v()})}),O(_),()=>{if(l.value===!0)return z("object",{style:oe.style,tabindex:-1,type:"text/html",data:oe.url,"aria-hidden":"true",onLoad:v})}}}}),Pe=M({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:n,emit:t}){const{proxy:{$q:o}}=W(),r=$(null),u=$(o.screen.height),c=$(e.container===!0?0:o.screen.width),d=$({position:0,direction:"down",inflectionPoint:0}),l=$(0),i=$(he.value===!0?0:N()),_=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),v=f(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),g=f(()=>i.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),p=f(()=>i.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function T(a){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:a.position.top,direction:a.direction,directionChanged:a.directionChanged,inflectionPoint:a.inflectionPoint.top,delta:a.delta.top};d.value=h,e.onScroll!==void 0&&t("scroll",h)}}function de(a){const{height:h,width:C}=a;let L=!1;u.value!==h&&(L=!0,u.value=h,e.onScrollHeight!==void 0&&t("scroll-height",h),j()),c.value!==C&&(L=!0,c.value=C),L===!0&&e.onResize!==void 0&&t("resize",a)}function fe({height:a}){l.value!==a&&(l.value=a,j())}function j(){if(e.container===!0){const a=u.value>l.value?N():0;i.value!==a&&(i.value=a)}}let U;const X={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:r,height:u,containerHeight:l,scrollbarWidth:i,totalWidth:f(()=>c.value+i.value),rows:f(()=>{const a=e.view.toLowerCase().split(" ");return{top:a[0].split(""),middle:a[1].split(""),bottom:a[2].split("")}}),header:A({size:0,offset:0,space:!1}),right:A({size:300,offset:0,space:!1}),footer:A({size:0,offset:0,space:!1}),left:A({size:300,offset:0,space:!1}),scroll:d,animate(){U!==void 0?clearTimeout(U):document.body.classList.add("q-body--layout-animate"),U=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),U=void 0},155)},update(a,h,C){X[a][h]=C}};if(pe(be,X),N()>0){let C=function(){a=null,h.classList.remove("hide-scrollbar")},L=function(){if(a===null){if(h.scrollHeight>o.screen.height)return;h.classList.add("hide-scrollbar")}else clearTimeout(a);a=setTimeout(C,300)},P=function(Y){a!==null&&Y==="remove"&&(clearTimeout(a),C()),window[`${Y}EventListener`]("resize",L)},a=null;const h=document.body;se(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),ge(()=>{P("remove")})}return()=>{const a=ze(n.default,[z(Re,{onScroll:T}),z(ne,{onResize:de})]),h=z("div",{class:_.value,style:v.value,ref:e.container===!0?void 0:r,tabindex:-1},a);return e.container===!0?z("div",{class:"q-layout-container overflow-hidden",ref:r},[z(ne,{onResize:fe}),z("div",{class:"absolute-full",style:g.value},[z("div",{class:"scroll",style:p.value},[h])])]):h}}});const Ne={class:"navbar-item__name"},b=D({name:"NavbarItem",props:{tag:{type:String,default:"div"},to:{type:[Object,String],default:null},icon:{type:String,required:!0},name:{type:String,required:!0}},setup(e){return(n,t)=>{const o=y("UiIcon");return S(),E(ye(e.to?"RouterLink":e.tag),{class:"navbar-item",to:e.to},{default:m(()=>[s(o,{name:e.icon,size:"s"},null,8,["name"]),x("span",Ne,re(e.name),1)]),_:1},8,["to"])}}});const Fe={class:"navbar-mobile"},Oe=["onClick"],He=k(" \u0421\u043F\u0456\u0432\u0440\u043E\u0431\u0456\u0442\u043D\u0438\u043A\u0438 "),Ve=k(" \u041F\u043E\u0441\u043B\u0443\u0433\u0438 "),qe=k(" \u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F "),Me=k(" \u0412\u0438\u0439\u0442\u0438 "),We=D({name:"Navbar.mobile",setup(e){const n=I(),t=ie(),o=ke(),r=q(),u=f(()=>r.role.name===ue);async function c(){await o.show({name:"appointment",props:{type:"new"}})}async function d(){await t.logout();const{href:l}=n.resolve({name:"login"});window.location.href=l}return(l,i)=>{const _=y("UiText"),v=y("UiPopover");return S(),R("div",Fe,[s(b,{to:{name:"dashboard"},icon:"solid/house-fill",name:"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"}),s(b,{to:{name:"schedule"},icon:"solid/calendar-fill",name:"\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440"}),s(b,{tag:"a",href:"#",icon:"solid/plus-circle-fill",name:"\u0417\u0430\u043F\u0438\u0441\u0430\u0442\u0438",onClick:V(c,["prevent"])},null,8,["onClick"]),w(u)?(S(),E(b,{key:0,to:{name:"analytics"},icon:"solid/chart-bar-fill",name:"\u0410\u043D\u0430\u043B\u0456\u0442\u0438\u043A\u0430"})):(S(),E(b,{key:1,to:{name:"specialists"},icon:"solid/users-fill",name:"\u0421\u043F\u0456\u0432\u0440\u043E\u0431\u0456\u0442\u043D\u0438\u043A\u0438"})),s(v,{size:"l",placement:"top"},{default:m(({isOpened:g})=>[s(b,{tag:"a",href:"#",class:we({_active:g}),icon:"solid/folder-notch-open-fill",name:"\u041C\u0435\u043D\u044E"},null,8,["class"])]),body:m(({close:g})=>[x("div",{class:"navbar-mobile__popover-menu",onClick:g},[s(_,{tag:"RouterLink",to:{name:"specialists"},size:"m","left-icon":"solid/users-fill"},{default:m(()=>[He]),_:1}),s(_,{tag:"RouterLink",to:{name:"procedures"},size:"m","left-icon":"solid/list"},{default:m(()=>[Ve]),_:1}),s(_,{tag:"RouterLink",to:{name:"settings"},size:"m","left-icon":"solid/gear-fill"},{default:m(()=>[qe]),_:1}),s(_,{tag:"a",href:"#",size:"m","left-icon":"outlined/sign-out",onClick:V(d,["prevent","stop"])},{default:m(()=>[Me]),_:1},8,["onClick"])],8,Oe)]),_:1})])}}});const Ie={class:"navbar-desktop"},Qe=x("img",{class:"navbar-desktop__logo",src:Ce},null,-1),je=x("div",{class:"navbar-desktop__space"},null,-1),Xe=k(" \u0412\u0438\u0439\u0442\u0438 "),Ye=D({name:"Navbar.desktop",setup(e){const n=I(),t=ie(),o=ae(),r=q(),u=f(()=>r.role.name===ue),c=f(()=>o.profile),d=f(()=>{var i;return(i=c.value.avatar)==null?void 0:i.path});async function l(){await t.logout();const{href:i}=n.resolve({name:"login"});window.location.href=i}return(i,_)=>{const v=y("UiAvatar"),g=y("UiText"),p=y("UiDropdownList"),T=y("UiDropdownMenu");return S(),R("div",Ie,[Qe,s(b,{to:{name:"dashboard"},icon:"solid/house-fill",name:"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"}),s(b,{to:{name:"schedule"},icon:"solid/calendar-fill",name:"\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440"}),s(b,{to:{name:"specialists"},icon:"solid/users-fill",name:"\u0421\u043F\u0456\u0432\u0440\u043E\u0431\u0456\u0442\u043D\u0438\u043A\u0438"}),s(b,{to:{name:"procedures"},icon:"solid/list",name:"\u041F\u043E\u0441\u043B\u0443\u0433\u0438"}),w(u)?(S(),E(b,{key:0,to:{name:"analytics"},icon:"solid/chart-bar-fill",name:"\u0410\u043D\u0430\u043B\u0456\u0442\u0438\u043A\u0430"})):Q("",!0),s(b,{to:{name:"settings"},icon:"solid/gear-fill",name:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F"}),je,s(T,{placement:"right"},{inner:m(()=>[s(v,{class:"navbar-desktop__avatar",size:"s",image:w(d),name:w(c).fullName},null,8,["image","name"])]),default:m(()=>[s(p,null,{default:m(()=>[s(g,{tag:"a",href:"#",class:"navbar-desktop__logout",size:"m","left-icon":"outlined/sign-out",onClick:V(l,["prevent"])},{default:m(()=>[Xe]),_:1},8,["onClick"])]),_:1})]),_:1})])}}});const Ge={class:"navbar"},Ke=D({name:"Navbar",setup(e){return(n,t)=>(S(),R("div",Ge,[s(Ye,{class:"navbar__desktop"}),s(We,{class:"navbar__mobile"})]))}});const Je={class:"header"},Ze={class:"header__inner"},et={class:"header__left"},tt=k(" \u0412\u0430\u0448 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442 "),ot=k(" \u041F\u043E\u0432\u0456\u0434\u043E\u043C\u0438\u0442\u0438 \u043F\u0440\u043E \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0443 "),nt={class:"header__right"},it=D({name:"Header",setup(e){const n=Ee(),t=q();I();const o=f(()=>t.company),r=f(()=>{var d;return(d=o.value.logo)==null?void 0:d.path}),u=f(()=>n.balance);f(()=>t.companyId);const c=f(()=>{const{BASE_HOST:d}=process.env;return`https://${d}`});return(d,l)=>{const i=y("UiText"),_=y("UiAvatar"),v=y("UiContainer");return S(),R("div",Je,[s(v,null,{default:m(()=>[x("div",Ze,[x("div",et,[s(i,{tag:"a",size:"l",href:w(c),target:"_blank","right-icon":"solid/link-fill",responsive:""},{default:m(()=>[tt]),_:1},8,["href"]),s(i,{tag:"a",href:"mailto:admin@pullcrm.com",size:"l","right-icon":"outlined/megaphone",responsive:"",class:"header__mail"},{default:m(()=>[ot]),_:1})]),x("div",nt,[w(u)!==null?(S(),E(i,{key:0,tag:"RouterLink",to:{name:"smsSettings"},size:"l",strong:"",responsive:"","right-icon":"outlined/wallet",class:"header__balance"},{default:m(()=>[k(re(w(Te)(w(u))),1)]),_:1})):Q("",!0),s(_,{class:"header__avatar",size:"s",image:w(r),name:w(o).name},null,8,["image","name"])])])]),_:1})])}}});const at={class:"dashboard-layout__container"},st=x("div",{class:"dashboard-layout__footer"},null,-1),bt=D({name:"dashboard",setup(e){const n=ae(),t=f(()=>n.loading);return(o,r)=>{const u=y("router-view"),c=y("PortalTarget");return S(),E(Pe,{class:"dashboard-layout"},{default:m(()=>[s(Ke,{class:"dashboard-layout__navbar"}),x("div",at,[s(it,{class:"dashboard-layout__header"}),s(u),st]),s(c,{name:"sidebar"}),w(t)?(S(),E($e,{key:0})):Q("",!0)]),_:1})}}});export{bt as default};
