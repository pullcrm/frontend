var J=Object.defineProperty,Q=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,uu=Object.prototype.propertyIsEnumerable;var V=(u,e,t)=>e in u?J(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,p=(u,e)=>{for(var t in e||(e={}))j.call(e,t)&&V(u,t,e[t]);if(D)for(var t of D(e))uu.call(e,t)&&V(u,t,e[t]);return u},U=(u,e)=>Q(u,W(e));import{a4 as eu,bw as tu,bD as nu,r as ru,k as au,as as su,aG as v,ay as ou,U as iu,b1 as d,X as F,a2 as f,x as _,bp as lu,a1 as P}from"./index.90ead00b.js";import{u as fu}from"./quasar.esm.prod.c88b943c.js";import{u as pu}from"./base.bf638541.js";import{u as cu}from"./popup.f1a4d1c1.js";import{h as mu,f as du,j as g,_ as _u,k as hu,a as vu,l as yu,m as gu,n as Cu,o as bu,e as Eu,g as $u,b as Iu,c as Su}from"./_setToString.d8977e99.js";import{b as x,V as S,a as Fu,u as Pu}from"./index.a16d5f6b.js";import{_ as Au}from"./Layout.450cccb5.js";import{api as N}from"./api.9988d825.js";import"./_commonjsHelpers.2cf1d77b.js";import"./logo.0179c6cf.js";var Bu=mu,wu=du,Tu="[object Symbol]";function Du(u){return typeof u=="symbol"||wu(u)&&Bu(u)==Tu}var A=Du,Vu=g,Uu=A,xu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nu=/^\w*$/;function Ru(u,e){if(Vu(u))return!1;var t=typeof u;return t=="number"||t=="symbol"||t=="boolean"||u==null||Uu(u)?!0:Nu.test(u)||!xu.test(u)||e!=null&&u in Object(e)}var Mu=Ru,q=_u,Ou="Expected a function";function B(u,e){if(typeof u!="function"||e!=null&&typeof e!="function")throw new TypeError(Ou);var t=function(){var r=arguments,a=e?e.apply(this,r):r[0],n=t.cache;if(n.has(a))return n.get(a);var s=u.apply(this,r);return t.cache=n.set(a,s)||n,s};return t.cache=new(B.Cache||q),t}B.Cache=q;var ku=B,zu=ku,qu=500;function Gu(u){var e=zu(u,function(r){return t.size===qu&&t.clear(),r}),t=e.cache;return e}var Ku=Gu,Lu=Ku,Xu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hu=/\\(\\)?/g,Yu=Lu(function(u){var e=[];return u.charCodeAt(0)===46&&e.push(""),u.replace(Xu,function(t,r,a,n){e.push(a?n.replace(Hu,"$1"):r||t)}),e}),Zu=Yu,R=hu,Ju=vu,Qu=g,Wu=A,ju=1/0,M=R?R.prototype:void 0,O=M?M.toString:void 0;function G(u){if(typeof u=="string")return u;if(Qu(u))return Ju(u,G)+"";if(Wu(u))return O?O.call(u):"";var e=u+"";return e=="0"&&1/u==-ju?"-0":e}var u4=G,e4=u4;function t4(u){return u==null?"":e4(u)}var n4=t4,r4=g,a4=Mu,s4=Zu,o4=n4;function i4(u,e){return r4(u)?u:a4(u,e)?[u]:s4(o4(u))}var C=i4,l4=A,f4=1/0;function p4(u){if(typeof u=="string"||l4(u))return u;var e=u+"";return e=="0"&&1/u==-f4?"-0":e}var w=p4,c4=C,m4=w;function d4(u,e){e=c4(e,u);for(var t=0,r=e.length;u!=null&&t<r;)u=u[m4(e[t++])];return t&&t==r?u:void 0}var _4=d4,k=yu;function h4(u,e,t){e=="__proto__"&&k?k(u,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):u[e]=t}var v4=h4,y4=v4,g4=gu,C4=Object.prototype,b4=C4.hasOwnProperty;function E4(u,e,t){var r=u[e];(!(b4.call(u,e)&&g4(r,t))||t===void 0&&!(e in u))&&y4(u,e,t)}var $4=E4,I4=9007199254740991,S4=/^(?:0|[1-9]\d*)$/;function F4(u,e){var t=typeof u;return e=e==null?I4:e,!!e&&(t=="number"||t!="symbol"&&S4.test(u))&&u>-1&&u%1==0&&u<e}var K=F4,P4=$4,A4=C,B4=K,z=Cu,w4=w;function T4(u,e,t,r){if(!z(u))return u;e=A4(e,u);for(var a=-1,n=e.length,s=n-1,i=u;i!=null&&++a<n;){var l=w4(e[a]),h=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return u;if(a!=s){var y=i[l];h=r?r(y,l,i):void 0,h===void 0&&(h=z(y)?y:B4(e[a+1])?[]:{})}P4(i,l,h),i=i[l]}return u}var D4=T4,V4=_4,U4=D4,x4=C;function N4(u,e,t){for(var r=-1,a=e.length,n={};++r<a;){var s=e[r],i=V4(u,s);t(i,s)&&U4(n,x4(s,u),i)}return n}var R4=N4;function M4(u,e){return u!=null&&e in Object(u)}var O4=M4,k4=C,z4=bu,q4=g,G4=K,K4=Eu,L4=w;function X4(u,e,t){e=k4(e,u);for(var r=-1,a=e.length,n=!1;++r<a;){var s=L4(e[r]);if(!(n=u!=null&&t(u,s)))break;u=u[s]}return n||++r!=a?n:(a=u==null?0:u.length,!!a&&K4(a)&&G4(s,a)&&(q4(u)||z4(u)))}var H4=X4,Y4=O4,Z4=H4;function J4(u,e){return u!=null&&Z4(u,e,Y4)}var Q4=J4,W4=R4,j4=Q4;function u0(u,e){return W4(u,e,function(t,r){return j4(u,r)})}var e0=u0,t0=$u;function n0(u){var e=u==null?0:u.length;return e?t0(u,1):[]}var r0=n0,a0=r0,s0=Iu,o0=Su;function i0(u){return o0(s0(u,void 0,a0),u+"")}var l0=i0,f0=e0,p0=l0,c0=p0(function(u,e){return u==null?{}:f0(u,e)}),m0=c0;const d0=["onSubmit"],_0=P(" \u041D\u0430\u0442\u0438\u0441\u043A\u0430\u044E\u0447\u0438 \u043D\u0430 \u043A\u043D\u043E\u043F\u043A\u0443, \u044F \u043F\u043E\u0433\u043E\u0434\u0436\u0443\u044E\u0441\u044C \u0456\u0437 "),h0=F("a",{href:"#"},"\u0423\u0433\u043E\u0434\u043E\u044E \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",-1),v0=P(" \u0442\u0430 "),y0=F("a",{href:"#"},"\u041F\u043E\u043B\u0456\u0442\u0438\u043A\u043E\u044E \u043E\u0431\u0440\u043E\u0431\u043A\u0438 \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u0438\u0445 \u0434\u0430\u043D\u0438\u0445",-1),g0=P(" \u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044C "),T0=eu({setup(u){fu({title:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044F - pullcrm"});const e=tu(),t=nu(),r=pu(),a=cu(),n=ru({fullName:"",phone:"",password:""}),s=au(!1),i={fullName:p(p({},x("\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432: 4",4)),S("\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0432\u0430\u0448\u0435 \u0456\u043C'\u044F")),phone:p(p({},Fu("\u041D\u0435 \u0432\u0456\u0440\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u043D\u043E\u043C\u0435\u0440\u0443")),S("\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443")),password:p(p({},x("\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432: 4",4)),S("\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C"))},l=Pu(i,n);su(()=>{const{phone:m}=e.query;m&&(n.phone=String(m))});async function h(){if(!!await l.$validate())try{return s.value=!0,await N.users.confirmation({phone:n.phone,type:"REGISTRATION"}),y()}catch(o){if([o.code===400&&{field:"phone",error:"invalid"}].filter(Boolean).length>0)return;throw o}finally{s.value=!1}}async function y(){if(await a.smsConfirmation({title:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044F",subTitle:`\u041D\u0430 \u0432\u0430\u0448 \u0442\u0435\u043B\u0435\u0444\u043E\u043D ${n.phone} \u0431\u0443\u0432 \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0439 \u0421\u041C\u0421-\u043A\u043E\u0434 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457`,submit:L}))return t.push({name:"companyCreate",query:m0(e.query,["companyType"])})}async function L(m){const o=U(p({},n),{code:m});await N.auth.registration(o),await r.login(o)}function X(){t.push({name:"login",query:p({},e.query)})}return(m,o)=>{const T=v("UiBack"),b=v("UiInput"),E=v("UiField"),H=v("UiText"),Y=v("UiButton"),Z=v("UiFormValidator");return ou(),iu(Au,{title:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044F","sub-title":"\u041F\u0440\u043E\u0439\u0434\u0456\u0442\u044C \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044E, \u0449\u043E\u0431 \u043E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u0434\u043E\u0441\u0442\u0443\u043F \u0434\u043E \u0441\u0432\u043E\u0454\u0457 \u043A\u043E\u043C\u043F\u0430\u043D\u0456\u0457",class:"auth-page-registration"},{default:d(()=>[F("form",{onSubmit:lu(h,["prevent"])},[f(T,{class:"auth-page-registration__back",onClick:X}),f(Z,{validate:_(l)},{default:d(({resetFieldError:$,getFieldError:I})=>[f(E,{label:"\u0406\u043C'\u044F \u0442\u0430 \u041F\u0440\u0456\u0437\u0432\u0438\u0449\u0435",error:I("fullName")},{default:d(()=>[f(b,{modelValue:_(n).fullName,"onUpdate:modelValue":o[0]||(o[0]=c=>_(n).fullName=c),"left-icon":"outlined/pencil",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0406\u043C'\u044F \u0456 \u041F\u0440\u0438\u0437\u0432\u0456\u0449\u0435",onInput:c=>$("fullName")},null,8,["modelValue","onInput"])]),_:2},1032,["error"]),f(E,{label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D",error:I("phone")},{default:d(()=>[f(b,{modelValue:_(n).phone,"onUpdate:modelValue":o[1]||(o[1]=c=>_(n).phone=c),mask:"+38 (###) #### ###",name:"phone",type:"phone",inputmode:"tel","left-icon":"outlined/phone",placeholder:"066",onInput:c=>$("phone")},null,8,["modelValue","onInput"])]),_:2},1032,["error"]),f(E,{label:"\u041F\u0430\u0440\u043E\u043B\u044C",error:I("password")},{default:d(()=>[f(b,{modelValue:_(n).password,"onUpdate:modelValue":o[2]||(o[2]=c=>_(n).password=c),"left-icon":"outlined/key",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C",onInput:c=>$("password")},null,8,["modelValue","onInput"])]),_:2},1032,["error"]),f(H,{class:"auth-page-registration__policy",size:"s"},{default:d(()=>[_0,h0,v0,y0]),_:1}),f(Y,{class:"auth-page-registration__button",type:"submit",size:"l",theme:"blue",loading:s.value},{default:d(()=>[g0]),_:1},8,["loading"])]),_:1},8,["validate"])],40,d0)]),_:1})}}});export{T0 as default};
