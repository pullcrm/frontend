import{u as D}from"./quasar.esm.prod.c88b943c.js";import{u as V}from"./toasts.5fba8d07.js";import{b as A}from"./base.bf638541.js";import{u as N}from"./specialist.1814df6d.js";import{u as I,g as L}from"./procedures.b20ac606.js";import{a4 as E,k as M,aG as r,ay as u,U as d,b1 as s,X as U,V as h,a2 as c,a1 as i,D as p,x as _,bp as G,b3 as O,bn as j,ak as q,W as f,I as P,aE as S,Q as o}from"./index.90ead00b.js";import{f as B}from"./money.dd3f296a.js";import{m as Q}from"./time.3f06d08e.js";import{S as W}from"./roles.61f7d6b9.js";import"./dayjs.228bf609.js";import"./isTomorrow.a3ceb101.js";import"./_commonjsHelpers.2cf1d77b.js";const X={class:"procedure-preview__header"},H={class:"procedure-preview__body"},J=E({props:{size:{type:String,default:"m"},procedure:{type:Object,required:!0},selectable:{type:Boolean,default:!1},selected:{type:Boolean,default:!1}},setup(e){const t=M(!1);return(m,a)=>{const n=r("UiCheckbox"),l=r("UiText"),v=r("UiPrice"),g=r("UiButton"),y=r("UiPanel");return u(),d(y,q({size:"s",class:["procedure-preview",`procedure-preview_size_${e.size}`,{"procedure-preview_selectable":e.selectable}]},m.$attrs),{default:s(()=>[U("div",X,[e.selectable?(u(),d(n,{key:0,size:"m",value:e.selected},null,8,["value"])):h("",!0),c(l,{tag:e.selectable?"a":"div",href:"#",size:"m",strong:"",responsive:"",class:"procedure-preview__title"},{default:s(()=>[i(p(e.procedure.name),1)]),_:1},8,["tag"]),c(v,{size:"xs",class:"procedure-preview__price"},{default:s(()=>[i(p(_(B)(e.procedure.price)),1)]),_:1}),c(l,{size:"m",responsive:"",class:"procedure-preview__duration"},{default:s(()=>[i(p(_(Q)(e.procedure.duration)),1)]),_:1}),c(g,{size:"s",theme:"info-outlined","left-icon":t.value?"outlined/caret-up":"outlined/caret-down",class:"procedure-preview__toggle",onClick:a[0]||(a[0]=G(w=>t.value=!t.value,["stop"]))},null,8,["left-icon"])]),O(U("div",H,[c(v,{size:"xs",class:"procedure-preview__price"},{default:s(()=>[i(p(_(B)(e.procedure.price)),1)]),_:1}),c(l,{size:"m",responsive:"",class:"procedure-preview__description"},{default:s(()=>[i(p(e.procedure.description||"\u041E\u043F\u0438\u0441 \u0432\u0456\u0434\u0441\u0443\u0442\u043D\u0456\u0439!"),1)]),_:1})],512),[[j,t.value]])]),_:1},16,["class"])}}});const K={class:"specialist-procedures-page-procedures-group"},R=E({props:{group:null},setup(e){return(t,m)=>{const a=r("UiText");return u(),f("div",K,[c(a,{size:"m",strong:"",responsive:"",class:"specialist-procedures-page-procedures-group__name"},{default:s(()=>[i(p(e.group.categoryTitle),1)]),_:1}),(u(!0),f(P,null,S(e.group.procedures,n=>(u(),d(J,{key:`procedure-${n.id}`,procedure:n,class:"specialist-procedures-page-procedures-group__procedure-preview"},null,8,["procedure"]))),128))])}}});const Y={class:"specialist-procedures-page"},Z=i(" \u0417\u043C\u0456\u043D\u0438\u0442\u0438 \u0441\u043F\u0438\u0441\u043E\u043A \u043F\u043E\u0441\u043B\u0443\u0433 "),_e=E({setup(e){D({title:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u043E\u0441\u043B\u0443\u0433 \u0444\u0430\u0445\u0456\u0432\u0446\u044F - pullcrm"});const t=V(),m=A(),a=N(),n=I(),l=o(()=>a.specialist),v=o(()=>m.role.name!==W),g=o(()=>l.value.procedures),y=o(()=>n.categories),w=o(()=>L(g.value,y.value)),b=o(()=>w.value.filter(({procedures:x})=>x.length>0)),k=o(()=>b.value.length===0);function z(){t.show({name:"specialist-procedures",props:{specialist:l.value}})}return(x,ee)=>{const C=r("UiPlaceholder"),F=r("UiButton");return u(),f("div",Y,[_(k)?(u(),d(C,{key:0,title:"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u043E\u0441\u043B\u0443\u0433 \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u0439",text:"\u0414\u043E\u0434\u0430\u0439\u0442\u0435 \u043F\u043E\u0441\u043B\u0443\u0433\u0443, \u0449\u043E\u0431 \u0444\u0430\u0445\u0456\u0432\u0435\u0446\u044C \u0440\u043E\u0437\u043F\u043E\u0447\u0430\u0432 \u0440\u043E\u0431\u043E\u0442\u0443",class:"specialist-procedures-page__placeholder"})):h("",!0),(u(!0),f(P,null,S(_(b),(T,$)=>(u(),d(R,{key:$,group:T,class:"specialist-procedures-page__procedures-group"},null,8,["group"]))),128)),_(v)?(u(),d(F,{key:1,size:"m",theme:"blue","right-icon":"outlined/pencil-simple",class:"specialist-procedures-page__button",onClick:z},{default:s(()=>[Z]),_:1})):h("",!0)])}}});export{_e as default};
