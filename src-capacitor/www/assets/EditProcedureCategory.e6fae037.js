var P=Object.defineProperty;var C=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var g=(t,e,u)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,r=(t,e)=>{for(var u in e||(e={}))$.call(e,u)&&g(t,u,e[u]);if(C)for(var u of C(e))k.call(e,u)&&g(t,u,e[u]);return t};import{a4 as F,k as y,aG as o,ay as I,U as S,b1 as n,a2 as i,X as z,x as L,bp as M,a1 as d}from"./index.53588f62.js";import{u as N}from"./procedures.f7d5b6cf.js";import{V as R,a as T,c as q,u as G}from"./index.e6dcdd48.js";import{api as U}from"./api.50e126cb.js";import"./base.686dbe64.js";import"./_commonjsHelpers.2cf1d77b.js";const O=d(" \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044E "),X=["onSubmit"],j=d(" \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 "),H=d(" \u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044E "),eu=F({name:"EditProcedureCategory",props:{category:null},emits:["close"],setup(t,{emit:e}){const u=t,c=N(),s=y(u.category.name),a=y(!1),V={name:r(r(r({},R("\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043D\u0430\u0437\u0432\u0443 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u0457")),T("\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432: 255",255)),q("\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432: 4",4))},m=G(V,{name:s});async function B(){if(!!await m.$validate())try{a.value=!0,await U.categories.update(u.category.id,{name:s.value,type:"PROCEDURE"}),await c.fetch(),e("close")}finally{a.value=!1}}async function E(){try{a.value=!0,await U.categories.remove(u.category.id),await c.fetch(),e("close")}finally{a.value=!1}}return(p,l)=>{const h=o("UiTitle"),w=o("UiInput"),A=o("UiField"),_=o("UiButton"),b=o("UiFormValidator"),D=o("UiPopup");return I(),S(D,{class:"new-procedures-category",onClose:l[1]||(l[1]=f=>p.$emit("close"))},{default:n(()=>[i(h,{class:"new-procedures-category__title",size:"s"},{default:n(()=>[O]),_:1}),z("form",{onSubmit:M(B,["prevent"])},[i(b,{validate:L(m)},{default:n(({resetFieldError:f,getFieldError:x})=>[i(A,{label:"\u041D\u0430\u0437\u0432\u0430 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u0457",error:x("name"),required:""},{default:n(()=>[i(w,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=v=>s.value=v),"left-icon":"outlined/pencil",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043D\u0430\u0437\u0432\u0443",onInput:v=>f("name")},null,8,["modelValue","onInput"])]),_:2},1032,["error"]),i(_,{type:"submit",size:"l",theme:"blue",loading:a.value},{default:n(()=>[j]),_:1},8,["loading"]),i(_,{size:"m",theme:"danger-outlined",loading:a.value,onClick:E},{default:n(()=>[H]),_:1},8,["loading"])]),_:1},8,["validate"])],40,X)]),_:1})}}});export{eu as default};
