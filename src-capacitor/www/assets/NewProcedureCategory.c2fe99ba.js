var h=Object.defineProperty;var m=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var _=(t,e,u)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,s=(t,e)=>{for(var u in e||(e={}))D.call(e,u)&&_(t,u,e[u]);if(m)for(var u of m(e))x.call(e,u)&&_(t,u,e[u]);return t};import{a4 as P,k as f,aG as o,ay as N,U as $,b1 as a,a2 as n,X as F,x as I,bp as S,a1 as C}from"./index.53588f62.js";import{u as k}from"./procedures.f7d5b6cf.js";import{V as L,a as M,c as R,u as T}from"./index.e6dcdd48.js";import{api as q}from"./api.50e126cb.js";import"./base.686dbe64.js";import"./_commonjsHelpers.2cf1d77b.js";const z=C(" \u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u044E "),G=["onSubmit"],O=C(" \u0414\u043E\u0434\u0430\u0442\u0438 "),Y=P({name:"NewProcedureCategory",emits:["close"],setup(t,{emit:e}){const u=f(""),r=f(!1),v=k(),U={name:s(s(s({},L("\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043D\u0430\u0437\u0432\u0443 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u0457")),M("\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432: 255",255)),R("\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432: 4",4))},l=T(U,{name:u});async function V(){if(!!await l.$validate())try{r.value=!0,await q.categories.create({name:u.value,type:"PROCEDURE"}),await v.fetch(),e("close")}finally{r.value=!1}}return(d,i)=>{const y=o("UiTitle"),g=o("UiInput"),B=o("UiField"),E=o("UiButton"),w=o("UiFormValidator"),b=o("UiPopup");return N(),$(b,{class:"new-procedures-category",onClose:i[1]||(i[1]=c=>d.$emit("close"))},{default:a(()=>[n(y,{class:"new-procedures-category__title",size:"s"},{default:a(()=>[z]),_:1}),F("form",{onSubmit:S(V,["prevent"])},[n(w,{validate:I(l)},{default:a(({resetFieldError:c,getFieldError:A})=>[n(B,{label:"\u041D\u0430\u0437\u0432\u0430 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0456\u0457",error:A("name"),required:""},{default:a(()=>[n(g,{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=p=>u.value=p),"left-icon":"outlined/pencil",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043D\u0430\u0437\u0432\u0443",onInput:p=>c("name")},null,8,["modelValue","onInput"])]),_:2},1032,["error"]),n(E,{type:"submit",size:"l",theme:"blue",loading:r.value},{default:a(()=>[O]),_:1},8,["loading"])]),_:1},8,["validate"])],40,G)]),_:1})}}});export{Y as default};
