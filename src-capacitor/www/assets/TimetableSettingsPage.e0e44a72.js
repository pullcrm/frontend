import{u as B}from"./quasar.esm.prod.7cf60e50.js";import{u as S}from"./timetable.70b57e2e.js";import{a as D}from"./base.686dbe64.js";import{g as E}from"./time.8571a5e6.js";import{api as A}from"./api.50e126cb.js";import{a4 as U,Q as _,aG as l,ay as p,W as g,a2 as a,b1 as r,a1 as y,D as h,x as c,X as F,I as T,aE as w,U as q}from"./index.53588f62.js";import"./schedule.da7e5da2.js";import"./date-time.d466b3fd.js";import"./isTomorrow.a3ceb101.js";import"./_commonjsHelpers.2cf1d77b.js";import"./dayjs.228bf609.js";function z(t){return{monday:"\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A",tuesday:"\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A",wednesday:"\u0421\u0435\u0440\u0435\u0434\u0430",thursday:"\u0427\u0435\u0442\u0432\u0435\u0440",friday:"\u041F\u02BC\u044F\u0442\u043D\u0438\u0446\u044F",saturday:"\u0421\u0443\u0431\u043E\u0442\u0430",sunday:"\u041D\u0435\u0434\u0456\u043B\u044F"}[t]}const V={class:"timetable-settings-page-day"},C={class:"timetable-settings-page-day__selectors"},P=y(" \u0434\u043E "),k=U({name:"Day",props:{from:{type:String,required:!0},to:{type:String,required:!0},opened:{type:Boolean,required:!0},dayAlias:{type:String,required:!0}},setup(t){const u=t,d=D(),f=S(),b=_(()=>z(u.dayAlias)),m=_(()=>E("07:00","23:00"));async function o(s,e){try{d.loading=!0;const i={opened:u.opened,from:u.from,to:u.to};i[s]=String(e),await A.timetable.update({[u.dayAlias]:Object.values(i).join(";")}),await f.fetch()}finally{d.loading=!1}}return(s,e)=>{const i=l("UiText"),x=l("UiSwitch"),v=l("UiSelect");return p(),g("div",V,[a(x,{value:t.opened,size:"m",class:"timetable-settings-page-day__switch",onInput:e[0]||(e[0]=n=>o("opened",n))},{append:r(()=>[a(i,{size:"l",responsive:""},{default:r(()=>[y(h(c(b)),1)]),_:1})]),_:1},8,["value"]),F("div",C,[a(v,{"model-value":t.from,options:c(m),required:"",disabled:!t.opened,placeholder:"\u0427\u0430\u0441 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0442\u044F",class:"timetable-settings-page-day__select","onUpdate:modelValue":e[1]||(e[1]=n=>o("from",n))},null,8,["model-value","options","disabled"]),a(i,{size:"l",responsive:"",class:"timetable-settings-page-day__text"},{default:r(()=>[P]),_:1}),a(v,{"model-value":t.to,options:c(m),required:"",disabled:!t.opened,placeholder:"\u0427\u0430\u0441 \u0437\u0430\u043A\u0440\u0438\u0442\u0442\u044F",class:"timetable-settings-page-day__select","onUpdate:modelValue":e[2]||(e[2]=n=>o("to",n))},null,8,["model-value","options","disabled"])])])}}});const N={class:"timetable-settings-page"},$=y(" \u0413\u0440\u0430\u0444\u0456\u043A \u0440\u043E\u0431\u043E\u0442\u0438 "),K=U({name:"TimetableSettingsPage",setup(t){B({title:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0433\u0440\u0430\u0444\u0456\u043A\u0443 \u0440\u0430\u0431\u043E\u0442\u0438 - pullcrm"});const u=S(),d=_(()=>u.normalizeTimetable);return(f,b)=>{const m=l("UiTitle"),o=l("UiPanel");return p(),g("div",N,[a(o,{size:"m",responsive:""},{default:r(()=>[a(m,{size:"s",responsive:"",class:"timetable-settings-page__title"},{default:r(()=>[$]),_:1}),(p(!0),g(T,null,w(c(d),(s,e)=>(p(),q(k,{key:e,to:s.to,from:s.from,opened:s.opened,"day-alias":e,class:"timetable-settings-page__day"},null,8,["to","from","opened","day-alias"]))),128))]),_:1})])}}});export{K as default};
