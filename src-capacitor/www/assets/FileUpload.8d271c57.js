import{g as p}from"./toasts.113f48d8.js";import{a4 as c,k as f,Q as m,ay as _,W as g,X as r,aF as v,x as s}from"./index.53588f62.js";function y(t){return new Promise(o=>{const l=new FileReader;l.addEventListener("load",e=>{const a=e.target.result;a&&o({name:t.name,url:String(a)}),o(null)}),l.readAsDataURL(t)})}const h={class:"file-upload"},F=["for"],w=["id","name"],k=c({name:"FileUpload",props:{image:{type:String,default:null}},emits:["input"],setup(t,{emit:o}){const l=t,e=p(),a=f(""),u=m(()=>a.value||l.image);async function d({target:n}){if(!n.files)return;const i=await y(n.files[0]);!i||(a.value=i.url,o("input",n.files[0]))}return(n,i)=>(_(),g("div",h,[r("label",{class:"file-upload__inner",for:`file-upload-${s(e)}`},[v(n.$slots,"default",{url:s(u)}),r("input",{id:`file-upload-${s(e)}`,type:"file",name:`file-upload-${s(e)}`,accept:"image/jpeg,image/png,image/jpg",onChange:d},null,40,w)],8,F)]))}});export{k as _};
